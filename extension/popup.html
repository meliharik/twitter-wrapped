<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitter Wrapped</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <header class="popup-header">
      <div class="logo">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
        </svg>
      </div>
      <h1>Twitter Wrapped</h1>
    </header>

    <div id="login-section" class="section">
      <p class="info-text">Sign in to sync your Twitter stats</p>
      <button id="login-btn" class="btn primary">
        Sign In
      </button>
    </div>

    <div id="logged-in-section" class="section hidden">
      <div class="user-info">
        <div class="avatar" id="user-avatar">U</div>
        <div class="user-details">
          <span class="username" id="user-email">user@email.com</span>
          <span class="twitter-handle" id="twitter-handle">@username</span>
        </div>
      </div>

      <div class="sync-status" id="sync-status">
        <div class="status-icon idle"></div>
        <span>Ready to sync</span>
      </div>

      <button id="sync-btn" class="btn primary">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
          <path d="M3 3v5h5"/>
          <path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/>
          <path d="M16 21h5v-5"/>
        </svg>
        Sync Data
      </button>

      <div class="last-sync" id="last-sync">
        Last sync: Never
      </div>

      <button id="view-wrapped-btn" class="btn secondary">
        View My Wrapped
      </button>

      <button id="logout-btn" class="btn ghost">
        Sign Out
      </button>
    </div>

    <div id="syncing-section" class="section hidden">
      <div class="syncing-animation">
        <div class="spinner"></div>
      </div>
      <p class="syncing-text">Collecting data...</p>
      <p class="syncing-detail" id="syncing-detail">Getting profile info</p>
    </div>

    <div id="success-section" class="section hidden">
      <div class="success-icon">âœ“</div>
      <h2>Sync Complete!</h2>
      <p>Your stats are ready</p>
      <button id="view-wrapped-success-btn" class="btn primary">
        View My Wrapped
      </button>
    </div>

    <footer class="popup-footer">
      <a href="http://localhost:5173" target="_blank">Twitter Wrapped</a>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
